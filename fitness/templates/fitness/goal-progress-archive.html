{% load static %}

<!DOCTYPE html>
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>About Page</title>
    <link rel="stylesheet" type="text/css" href="{% static 'fitness/css/everything.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'fitness/vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="{% static 'fitness/css/about.css' %}" />
    <script type="text/javascript" src="{% static 'fitness/vendor/jquery/jquery-3.3.1.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'fitness/vendor/paper/paper-full.min.js' %}"></script>

    <style>
        table, td {
            margin-top: 25px;
            border: 1px solid black;
            border-collapse: collapse;
        }
        td {
            padding-top: 15px;
            padding-bottom: 15px;
            padding-left: 15px;
        }
        .text-block-1 {
            margin: auto;
            width: 50%;
            text-align: center;
            font-size: 50px;
            padding-top: 30px;
        }
        .space {
            margin-top: 25px;
        }

        .tableStyle {
            width: 60%;
            margin-left: 20%;
        }

        .numWidth {
            width: 10%;
            font-size: 3vw;
            color: gold;
        }

        .goalText {
            font-size: 3vw;
        }

        #tableList {

        }

        </style>
</head>
    <body class ="body">

        <div style="background-color: #48A2E9; padding-bottom: 50px;">
          <i class="bi bi-arrow-left" onclick="goBack()" style="font-size:4em; margin-left:5%; font-weight:bold;"></i>
            <div class="text-block-1"> <h1>Goal Archive</h1></div>
        </div>

        <br><br><br>

        <div id='tableList'>
            <p class="h1 text-center">Completed Goals</p>
            <table class='tableStyle'>
                <tr>
                    
                </tr>
            </table>

        </div>


    </body>

<script>

    document.addEventListener('storage', goalArchiving());

    function goalArchiving() {
        var goalText = localStorage.getItem("myGoalText");

        // just incase its null
        if (goalText === null) {return;}

        goalText = JSON.parse(goalText);

        console.log(goalText);

        for (var i = 0; i < goalText.length; i++) {
            $("#tableList").append("<table class='tableStyle'> <tr> <td class='numWidth'><i class='bi bi-star-fill'></i></td> <td class='goalText'>" + goalText[i] + "</td> </tr> </table>");
        }
    }

    function goBack() {
      window.history.back();
    }



</script>

</html>
